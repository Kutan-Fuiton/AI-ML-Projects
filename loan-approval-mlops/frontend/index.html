<!DOCTYPE html>
<html>
<head>
    <title>Loan Approval Predictor</title>
    <style>
        body {
            font-family: Arial;
            max-width: 600px;
            margin: 40px auto;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin: 6px 0;
        }
        button {
            padding: 10px;
            background: #007bff;
            color: white;
            border: none;
            margin-top: 10px;
            cursor: pointer;
            width: 100%;
        }
        #result {
            margin-top: 20px;
            padding: 12px;
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>

    <h2>Loan Approval Predictor</h2>

    <form id="loanForm">
        <label>Gender</label>
        <select id="Gender">
            <option>Male</option>
            <option>Female</option>
        </select>

        <label>Married</label>
        <select id="Married">
            <option>Yes</option>
            <option>No</option>
        </select>

        <label>Dependents</label>
        <select id="Dependents">
            <option>0</option>
            <option>1</option>
            <option>2</option>
            <option>3+</option>
        </select>

        <label>Education</label>
        <select id="Education">
            <option>Graduate</option>
            <option>Not Graduate</option>
        </select>

        <label>Self Employed</label>
        <select id="Self_Employed">
            <option>No</option>
            <option>Yes</option>
        </select>

        <label>Applicant Income</label>
        <input type="number" id="ApplicantIncome" />

        <label>Coapplicant Income</label>
        <input type="number" id="CoapplicantIncome" />

        <label>Loan Amount</label>
        <input type="number" id="LoanAmount" />

        <label>Loan Amount Term</label>
        <input type="number" id="Loan_Amount_Term" />

        <label>Credit History</label>
        <select id="Credit_History">
            <option value="1">1 (Good)</option>
            <option value="0">0 (Bad)</option>
        </select>

        <label>Property Area</label>
        <select id="Property_Area">
            <option>Urban</option>
            <option>Semiurban</option>
            <option>Rural</option>
        </select>

        <button type="button" onclick="predict()">Predict</button>
    </form>

    <div id="result"></div>

    <script>
        async function predict() {
            const data = {
                Gender: document.getElementById("Gender").value,
                Married: document.getElementById("Married").value,
                Dependents: document.getElementById("Dependents").value,
                Education: document.getElementById("Education").value,
                Self_Employed: document.getElementById("Self_Employed").value,
                ApplicantIncome: Number(document.getElementById("ApplicantIncome").value),
                CoapplicantIncome: Number(document.getElementById("CoapplicantIncome").value),
                LoanAmount: Number(document.getElementById("LoanAmount").value),
                Loan_Amount_Term: Number(document.getElementById("Loan_Amount_Term").value),
                Credit_History: Number(document.getElementById("Credit_History").value),
                Property_Area: document.getElementById("Property_Area").value
            };

            const response = await fetch("http://127.0.0.1:8000/predict", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });

            const result = await response.json();

            document.getElementById("result").innerHTML =
                `<b>Prediction:</b> ${result.loan_status}<br>
                 <b>Probability:</b> ${result.probability}`;
        }
    </script>

</body>
</html>
